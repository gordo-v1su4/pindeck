---
description: Mandatory documentation update checklist for any code changes
globs: **/*
alwaysApply: true
---
# Documentation Update Hook

## CRITICAL: Always Update Documentation

**This rule MUST be followed for ANY code changes, feature additions, or architectural modifications.**

### Required Documentation Updates

After making ANY code changes, you MUST review and update ALL of the following:

#### 1. README.md (`/README.md`)
- ✅ Update **Features** section if new functionality added
- ✅ Update **Project Structure** if files/folders changed
- ✅ Update **Technology Stack** if dependencies changed
- ✅ Update **Notes** section for important behavioral changes
- ✅ Update **AI Features** section for AI-related changes

#### 2. WARP.md (`/WARP.md`)
- ✅ Update **Architecture** sections for schema/structure changes
- ✅ Update **Database Schema** if tables/fields/indexes modified
- ✅ Update **Key Development Patterns** for new patterns introduced
- ✅ Update **AI Features Architecture** for AI-related changes
- ✅ Update **Important Notes** for critical behavioral changes
- ✅ Update **Common Operations** if new code patterns introduced

#### 3. Cursor Rules (`.cursor/rules/`)
- ✅ **project-structure.mdc**: Update database schema, architecture patterns, AI features
- ✅ **tech-stack.mdc**: Update if dependencies or versions changed
- ✅ **convex-rules.mdc**: Update if Convex patterns or best practices changed
- ✅ **radix-ui-patterns.mdc**: Update if new Radix UI patterns discovered

### Documentation Review Checklist

Before committing code changes, ASK yourself:

1. **Did I add/modify database fields?**
   → Update schema documentation in README, WARP.md, and project-structure.mdc

2. **Did I add a new feature?**
   → Update Features section in README and relevant architecture sections in WARP.md

3. **Did I add/change dependencies?**
   → Update Technology Stack in README and tech-stack.mdc

4. **Did I discover new patterns or gotchas?**
   → Update relevant cursor rules files

5. **Did I change how AI features work?**
   → Update AI Features sections in README, WARP.md, and project-structure.mdc

6. **Did I add new common operations or code patterns?**
   → Update Common Operations in WARP.md

### Example: Recent Changes Requiring Documentation

**Code Change**: Added `parentImageId` field and parent image lineage system

**Required Documentation Updates**:
- ✅ README.md: Added to Features, Notes
- ✅ WARP.md: Updated Database Schema, AI Features Architecture, Important Notes
- ✅ project-structure.mdc: Updated schema structure and AI Features Architecture

### Commit Message Pattern

Always include documentation updates in commit messages:
```
feat: Add new feature

[code changes description]

Documentation Updates:
- Updated README.md with [specific changes]
- Updated WARP.md [specific sections]
- Updated .cursor/rules/[specific files]

Co-Authored-By: Warp <agent@warp.dev>
```

## Why This Matters

- **Future AI Agents**: WARP.md guides future AI sessions in this codebase
- **Team Members**: README helps developers understand the project
- **Pattern Consistency**: Cursor rules ensure consistent code patterns
- **Maintenance**: Up-to-date docs reduce confusion and errors

## Question Guidelines

If you're unsure whether to document something, ASK:
- "Is this a behavioral change a developer would want to know about?"
- "Would this information help a future AI agent work in this codebase?"
- "Does this change affect how features work or how code should be written?"

If YES to any → Update documentation!
