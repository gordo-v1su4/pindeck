---
description: Project directory structure and important files overview for the Visuals image gallery application
globs: **/*
alwaysApply: true
---
# Visuals Project Structure

This rule outlines the directory structure and organization of the **Visuals** project - a React/TypeScript image gallery and sharing platform built with Convex backend.

## Project Overview

**Visuals** is a curated image gallery and sharing platform that provides:
- User authentication with Convex Auth
- Image upload, search, and categorization
- Social features (likes, collections, views)
- Responsive masonry layout with Tailwind CSS
- Real-time updates via Convex subscriptions
- TypeScript-first development experience

## Root Directory Structure

```
pindeck/
â”œâ”€â”€ ğŸ“ .cursor/           # ğŸ› ï¸ Development rules & guidelines
â”œâ”€â”€ ğŸ“ convex/           # ğŸ—„ï¸ Backend & database (Convex)
â”œâ”€â”€ ğŸ“ src/             # ğŸ¨ Frontend application (React/TypeScript)
â”œâ”€â”€ ğŸ“ dist/            # ğŸ“¦ Build output (generated)
â”œâ”€â”€ ğŸ“ node_modules/    # ğŸ“š Dependencies (not tracked)
â”œâ”€â”€ ğŸ“„ package.json     # ğŸ“‹ Project configuration
â”œâ”€â”€ ğŸ“„ README.md        # ğŸ“– Project documentation
â””â”€â”€ ğŸ“„ *.config.*       # âš™ï¸ Build & development configs
```

## Cursor Rules Directory (`/.cursor/`)

**Purpose**: Development guidelines, coding standards, and project-specific rules for Cursor IDE.

```
.cursor/
â””â”€â”€ rules/
    â”œâ”€â”€ cursor-rules.mdc         # ğŸ“ Rules management guide
    â”œâ”€â”€ project-structure.mdc    # ğŸ—‚ï¸ This file (structure guide)
    â””â”€â”€ self-improve.mdc         # ğŸ”„ Continuous improvement guidelines
```

## Convex Backend Directory (`/convex/`)

**Purpose**: Server-side logic, database schema, and API endpoints using Convex framework.

```
convex/
â”œâ”€â”€ ğŸ“ _generated/              # ğŸ¤– Auto-generated files
â”‚   â”œâ”€â”€ api.d.ts               # TypeScript API definitions
â”‚   â”œâ”€â”€ api.js                 # JavaScript API functions
â”‚   â”œâ”€â”€ dataModel.d.ts         # Database model types
â”‚   â”œâ”€â”€ server.d.ts            # Server-side types
â”‚   â””â”€â”€ server.js              # Server-side code
â”‚
â”œâ”€â”€ auth.config.ts             # ğŸ” Authentication configuration
â”œâ”€â”€ auth.ts                    # ğŸ‘¤ Authentication logic
â”œâ”€â”€ http.ts                    # ğŸŒ HTTP utilities & external APIs
â”œâ”€â”€ images.ts                  # ğŸ–¼ï¸ Image CRUD, search, likes API
â”œâ”€â”€ router.ts                  # ğŸ›£ï¸ API route definitions
â”œâ”€â”€ schema.ts                  # ğŸ“Š Database schema & indexes
â”œâ”€â”€ seed.ts                    # ğŸŒ± Database seeding script
â””â”€â”€ tsconfig.json              # âš™ï¸ Backend TypeScript config
```

## Source Directory (`/src/`)

**Purpose**: Frontend React application with TypeScript, featuring image gallery components and user authentication.

```
src/
â”œâ”€â”€ ğŸ“ components/             # ğŸ§© Reusable React components
â”‚   â”œâ”€â”€ CategoryFilter.tsx    # ğŸ·ï¸ Category filtering UI
â”‚   â”œâ”€â”€ ImageGrid.tsx         # ğŸ¯ Main image display (masonry)
â”‚   â”œâ”€â”€ ImageModal.tsx        # ğŸ” Image detail modal
â”‚   â””â”€â”€ SearchBar.tsx         # ğŸ” Search functionality
â”‚
â”œâ”€â”€ ğŸ“ lib/                   # ğŸ› ï¸ Utilities & helpers
â”‚   â””â”€â”€ utils.ts              # ğŸ¨ Tailwind CSS utilities
â”‚
â”œâ”€â”€ App.tsx                   # ğŸª Main application component
â”œâ”€â”€ index.css                 # ğŸ¨ Global styles & Tailwind
â”œâ”€â”€ main.tsx                  # ğŸš€ Application entry point
â”œâ”€â”€ SignInForm.tsx            # ğŸ“ User authentication form
â”œâ”€â”€ SignOutButton.tsx         # ğŸšª Sign-out functionality
â””â”€â”€ vite-env.d.ts             # âš™ï¸ Vite environment types
```

## Components Directory (`/src/components/`)

**Purpose**: Modular React components for the image gallery interface.

```
src/components/
â”œâ”€â”€ CategoryFilter.tsx        # ğŸ·ï¸ Filter images by category
â”œâ”€â”€ ImageGrid.tsx            # ğŸ¯ Responsive masonry grid layout
â”œâ”€â”€ ImageModal.tsx           # ğŸ” Full-screen image viewer
â””â”€â”€ SearchBar.tsx            # ğŸ” Real-time search interface
```

## Build Output Directory (`/dist/`)

**Purpose**: Production-ready build artifacts generated by Vite.

```
dist/
â”œâ”€â”€ index.html               # ğŸ“„ Main HTML template
â””â”€â”€ assets/                  # ğŸ“¦ Compiled bundles
    â”œâ”€â”€ index-*.js          # âš¡ Compiled JavaScript
    â””â”€â”€ index-*.css         # ğŸ¨ Compiled CSS styles
```

## Key Configuration Files

### Package Management
- `package.json` - ğŸ“¦ Main project dependencies, scripts, and metadata
- `bun.lock` - ğŸ”’ Bun package manager lock file
- `bunfig.toml` - âš™ï¸ Bun configuration

### Build & Development
- `vite.config.ts` - âš¡ Vite build tool configuration
- `tsconfig.json` - ğŸ“˜ Root TypeScript configuration
- `tsconfig.app.json` - ğŸ¨ Frontend TypeScript config
- `tsconfig.node.json` - ğŸŸ¢ Node.js TypeScript config

### Code Quality & Styling
- `eslint.config.js` - ğŸ” ESLint linting rules
- `tailwind.config.js` - ğŸ¨ Tailwind CSS configuration
- `postcss.config.cjs` - ğŸ¯ PostCSS configuration
- `components.json` - ğŸ§© shadcn/ui component configuration

### Development Tools
- `.gitignore` - ğŸš« Git ignore rules
- `setup.mjs` - ğŸ› ï¸ Project setup script
- `index.html` - ğŸŒ Main HTML template

## Component Organization Patterns

### React Components (`/src/components/`)
- **Functional components**: Modern React hooks-based
- **TypeScript interfaces**: Strongly typed props and state
- **Tailwind styling**: Utility-first CSS approach
- **Modular exports**: Clean import/export patterns

### Convex Backend (`/convex/`)
- **Query/Mutation pattern**: Convex's reactive data fetching
- **Type safety**: Full TypeScript integration
- **Real-time updates**: Live data synchronization
- **Authentication integration**: User-based data access

## File Naming Conventions

### React Components
- **PascalCase**: `ImageGrid.tsx`, `CategoryFilter.tsx`
- **Descriptive names**: Clear component purpose
- **Consistent suffixes**: `.tsx` for TypeScript React

### Backend Functions
- **camelCase**: `images.ts`, `auth.ts`, `http.ts`
- **Purpose-driven**: API functionality clearly indicated
- **TypeScript**: `.ts` for backend, `.d.ts` for definitions

### Configuration Files
- **kebab-case**: `tailwind.config.js`, `vite.config.ts`
- **Tool-specific**: Standard naming conventions
- **Clear extensions**: `.config.js`, `.config.ts`

## Database Schema Structure

```typescript
// Main data models in convex/schema.ts
const images = {
  title: string,
  description?: string,
  imageUrl: string,
  category: string,
  tags: string[],
  uploadedBy: userId,
  likes: number,
  views: number
}

const collections = {
  name: string,
  userId: userId,
  isPublic: boolean,
  imageIds: imageId[]
}

const likes = {
  userId: userId,
  imageId: imageId
}
```

## Key Architectural Patterns

### Frontend Architecture
- **Component Structure**: Modular React components in `src/components/`
- **State Management**: Local state with React hooks, Convex for server state
- **Styling**: Tailwind CSS with utility-first approach
- **Authentication**: Convex Auth with protected routes

### Backend Architecture
- **Database**: Convex with defined schema and indexes
- **API Layer**: Generated API functions with type safety
- **Authentication**: Integrated auth system with user management
- **File Storage**: Convex storage for image uploads

### Development Workflow
- **Build Tool**: Vite for fast development and optimized builds
- **Package Manager**: Bun for dependency management
- **Linting**: ESLint with TypeScript support
- **Type Safety**: Full TypeScript coverage across frontend and backend

## Important Files Reference

```typescript
// Main entry point
[src/main.tsx](mdc:src/main.tsx)

// Core application logic
[src/App.tsx](mdc:src/App.tsx)

// Database schema
[convex/schema.ts](mdc:convex/schema.ts)

// Authentication setup
[convex/auth.config.ts](mdc:convex/auth.config.ts)

// Image management API
[convex/images.ts](mdc:convex/images.ts)
```

## File Organization Guidelines

### âœ… Good: Consistent Structure
```
src/
â”œâ”€â”€ components/     # UI components
â”œâ”€â”€ lib/           # Utilities and helpers
â”œâ”€â”€ main.tsx       # Entry point
â””â”€â”€ App.tsx        # Main app component
```

### âŒ Bad: Mixed Organization
```
src/
â”œâ”€â”€ utils.ts       # Should be in lib/
â”œâ”€â”€ Header.tsx     # Should be in components/
â””â”€â”€ api/           # Should follow backend patterns
```

## Navigation Tips

- Start with `src/App.tsx` for understanding the application flow
- Check `convex/schema.ts` for data models and relationships
- Review `package.json` for available scripts and dependencies
- Use `src/components/` for understanding UI patterns
- Reference `.cursor/rules/` for development guidelines